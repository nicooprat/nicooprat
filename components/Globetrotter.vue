<template>
  <div v-intersection-observer="onIntersectionObserver" class="px-8">
    <a
      href="https://www.globetrotter.io/"
      class="block bg-gradient-to-br from-blue-400 to-blue-600 max-w-5xl mx-auto rounded-3xl shadow-2xl shadow-blue-700/50 p-16 lg:p-32 relative z-0 text-white"
    >
      <div class="clouds">
        <div class="cloud1">
          <svg viewBox="0 0 177.4 86.8">
            <path
              fill="currentColor"
              d="M37.3,43.4c0-4.8-3.9-8.7-8.7-8.7h-20c-4.8,0-8.7,3.9-8.7,8.7c0,4.8,3.9,8.7,8.7,8.7h20C33.4,52.1,37.3,48.2,37.3,43.4z"
            />
            <path
              fill="currentColor"
              d="M168.7,34.7H96.8c-4.8,0-8.7-3.9-8.7-8.7c0-4.8,3.9-8.7,8.7-8.7h21.9c4.8,0,8.7-3.9,8.7-8.7c0-4.8-3.9-8.7-8.7-8.7H23.9 c-4.8,0-8.7,3.9-8.7,8.7c0,4.8,3.9,8.7,8.7,8.7h40.4c4.8,0,8.7,3.9,8.7,8.7c0,2.4-1,4.6-2.5,6.1c-1.6,1.6-3.7,2.5-6.1,2.5h-1 c-4.8,0-8.7,3.9-8.7,8.7c0,4.8,3.9,8.7,8.7,8.7h8.5c4.8,0,8.7,3.9,8.7,8.7c0,2.4-1,4.6-2.5,6.1c-1.6,1.6-3.7,2.5-6.1,2.5H30.3 c-4.8,0-8.7,3.9-8.7,8.7c0,4.8,3.9,8.7,8.7,8.7h105.9c4.8,0,8.7-3.9,8.7-8.7c0-4.8-3.9-8.7-8.7-8.7H123c-4.8,0-8.7-3.9-8.7-8.7 c0-4.8,3.9-8.7,8.7-8.7h45.7c4.8,0,8.7-3.9,8.7-8.7C177.4,38.6,173.5,34.7,168.7,34.7z"
            />
          </svg>
        </div>

        <div class="cloud2">
          <svg viewBox="0 0 214.2 86.8">
            <path
              fill="currentColor"
              d="M205.5,34.7H143c-4.8,0-8.7-3.9-8.7-8.7c0-4.8,3.9-8.7,8.7-8.7h34.7c4.8,0,8.7-3.9,8.7-8.7c0-4.8-3.9-8.7-8.7-8.7H30.7 C25.9,0,22,3.9,22,8.7c0,4.8,3.9,8.7,8.7,8.7h38.4c4.8,0,8.7,3.9,8.7,8.7c0,2.4-1,4.6-2.5,6.1c-1.6,1.6-3.7,2.5-6.1,2.5H8.7 c-4.8,0-8.7,3.9-8.7,8.7c0,4.8,3.9,8.7,8.7,8.7h31.5c4.8,0,8.7,3.9,8.7,8.7c0,2.4-1,4.6-2.5,6.1c-1.6,1.6-3.7,2.5-6.1,2.5H25.3 c-4.8,0-8.7,3.9-8.7,8.7c0,4.8,3.9,8.7,8.7,8.7h164.6c4.8,0,8.7-3.9,8.7-8.7c0-4.8-3.9-8.7-8.7-8.7H174c-4.8,0-8.7-3.9-8.7-8.7 c0-4.8,3.9-8.7,8.7-8.7h31.5c4.8,0,8.7-3.9,8.7-8.7C214.2,38.6,210.3,34.7,205.5,34.7z M131.4,60.7c0,2.4-1,4.6-2.5,6.1 c-1.6,1.6-3.7,2.5-6.1,2.5H78.1c-4.8,0-8.7-3.9-8.7-8.7c0-4.8,3.9-8.7,8.7-8.7h44.7C127.5,52.1,131.4,55.9,131.4,60.7z"
            />
          </svg>
        </div>

        <div class="cloud3">
          <svg viewBox="0 0 275.4 86.8">
            <path
              fill="currentColor"
              d="M266.7,69.4h-87.7c-4.8,0-8.7-3.9-8.7-8.7c0-4.8,3.9-8.7,8.7-8.7h35.1c4.8,0,8.7-3.9,8.7-8.7c0-4.8-3.9-8.7-8.7-8.7h-48 c-4.8,0-8.7-3.9-8.7-8.7c0-4.8,3.9-8.7,8.7-8.7h11c4.8,0,8.7-3.9,8.7-8.7c0-4.8-3.9-8.7-8.7-8.7H48.2c-4.8,0-8.7,3.9-8.7,8.7 c0,4.8,3.9,8.7,8.7,8.7h10.3c4.8,0,8.7,3.9,8.7,8.7c0,2.4-1,4.6-2.5,6.1c-1.6,1.6-3.7,2.5-6.1,2.5H8.7c-4.8,0-8.7,3.9-8.7,8.7 c0,4.8,3.9,8.7,8.7,8.7h18.8c4.8,0,8.7,3.9,8.7,8.7c0,2.4-1,4.6-2.5,6.1c-1.6,1.6-3.7,2.5-6.1,2.5H25c-4.8,0-8.7,3.9-8.7,8.7 c0,4.8,3.9,8.7,8.7,8.7h92.7c4.8,0,8.7-3.9,8.7-8.7c0-4.8-3.9-8.7-8.7-8.7h-38c-4.8,0-8.7-3.9-8.7-8.7c0-4.8,3.9-8.7,8.7-8.7h16.5 c4.8,0,8.7-3.9,8.7-8.7c0-4.8-3.9-8.7-8.7-8.7h0.2c-4.8,0-8.7-3.9-8.7-8.7c0-4.8,3.9-8.7,8.7-8.7h41.1c4.8,0,8.7,3.9,8.7,8.7 c0,2.4-1,4.6-2.5,6.1c-1.6,1.6-3.7,2.5-6.1,2.5h-11.1c-4.8,0-8.7,3.9-8.7,8.7c0,4.8,3.9,8.7,8.7,8.7h23.2c4.8,0,8.7,3.9,8.7,8.7 c0,2.4-1,4.6-2.5,6.1c-1.6,1.6-3.7,2.5-6.1,2.5h-1.6c-4.8,0-8.7,3.9-8.7,8.7c0,4.8,3.9,8.7,8.7,8.7h118.6c4.8,0,8.7-3.9,8.7-8.7 C275.4,73.3,271.5,69.4,266.7,69.4z"
            />
          </svg>
        </div>
      </div>

      <div class="lg:flex items-center">
        <div class="shrink text-center">
          <div class="logo inline-block">
            <div class="rotate">
              <div class="translateX">
                <div class="translateY">
                  <svg viewBox="0 0 97.4 160.2">
                    <path
                      fill="currentColor"
                      d="M56.7,160.2l-15.3,0c-1.7,0-3.1-1.2-3.1-2.7l-3-19.2c0-1.5,1.4-2.7,3.1-2.7l21.4,0 c1.7,0,3.1,1.2,3.1,2.7l-3.1,19.2C59.7,159,58.4,160.2,56.7,160.2z"
                    />
                    <path
                      fill="currentColor"
                      d="M70.8,5.2c-1-0.5-1.9,0.7-1.2,1.6c8.2,8.7,15.6,22.9,15.6,39.9c0,21.5-9.2,41.9-22.3,63.4 c-0.6,1,0.8,2.1,1.6,1.2c18.8-21.8,33-42.2,33-63.8C97.4,28.2,85.4,12.8,70.8,5.2z"
                    />
                    <path
                      fill="currentColor"
                      d="M12.3,46.6c0-17,7.2-31.1,15.4-39.7c0.8-0.8-0.2-2.1-1.2-1.6C11.8,12.9,0,28.1,0,47.4 c0,24.2,15.2,43,33.6,63.7c0.8,0.9,2.2-0.2,1.6-1.2C22.4,89.6,12.2,70.6,12.3,46.6z"
                    />
                    <path
                      fill="currentColor"
                      d="M48.8,0C33.4,0,20.9,18.8,20.8,47.4S33,97.1,45.9,122.5c2.9,5,3.3,5,5.6,0 c13.2-26,25-49.8,25-75.1C76.6,18.8,64.2,0,48.8,0z"
                    />
                  </svg>
                </div>
              </div>
            </div>
          </div>

          <div class="brand">
            <svg viewBox="-23 218.4 511.1 125.6">
              <path
                fill="currentColor"
                d="M483.9,276.1c-0.8,0-5.7,16.9-13.9,16.9c-2.3,0-3.4-1.9-3.4-4.8c0-10.4,9.2-26.4,9.2-30.7 c0-5.3-5.1-7.5-7.8-7.5c-4,0-4.8,6.9-8.6,6.9c-5.2,0-1.7-9.4,0.8-12.3c2.5-2.9,0.5-9.6-6.5-9.6c-2.7,0-4.9,2.1-6.2,4.3 c-2.2,3.9-4.9,10.7-4.9,17.5c0,2.5,0.4,4.5,0.9,6.2c0.2,4.8-1.3,10-3,14.4c-0.1,0.1-0.2,0.1-0.3,0.3c-3.9,8.8-10,19-21.2,19 c-4.9,0-9.4-1.7-10.9-6.5c7.7,0.8,26.4-11.3,27.4-27.8c0.4-8.4-4.5-15.2-13.2-15.2c-10.9,0-25.5,12.3-28.1,32.5 c-2.5,5-7.3,13.3-13,13.3c-2.2,0-4.4-1.9-4.4-4.8c0-4,1.4-10,3.4-16.6c3.2,0.3,6,0.5,7.5,0.8c2.1,0.3,2.6-7.5,2.2-9.2 c-0.4-1.2-1.4-1.9-2.6-2.2c-0.5-0.3-1.8-0.4-3.5-0.5c3.9-11.2,9.9-25.4,9.9-27.6c0-5.5-4.9-7.7-7.8-7.7c-2.2,0-4,2.3-5.2,5.2 c-1,2.2-7.3,17.1-11.1,30.1c0,0,0,0,0,0c0,0-12.6-0.6-15.4-0.2c-0.4-0.8,7.9-21,7.9-23.2c0-5.5-4.9-7.7-7.8-7.7 c-2.2,0-4,2-5.2,4.9c-1,2.1-5,12.3-8.7,24.3c-0.1,0.2-0.1,0.3-0.2,0.5c-0.2,0.5-0.3,0.9-0.5,1.4c-1.3,0.1-3.4,0.2-4.4,0.4 c-2.5,0.4-3.5,1.2-3.6,5.2c0,1.4,0.1,4,0.6,5.1c-0.2,0.1-0.4,0.3-0.7,0.4c-1.3,0.8-2.7,1.5-4,2.1c0.1-1.3,0.2-2.6,0.2-3.9 c0-14.8-8.4-22.3-17.1-22.3c-12.6,0-25.9,13.4-28,33.1c-2.3,5-6.3,12.7-11.9,12.7c-2.3,0-3.4-1.9-3.4-4.8 c0-10.4,9.2-26.4,9.2-30.7c0-5.3-5.1-7.5-7.8-7.5c-4,0-4.8,6.9-8.6,6.9c-5.2,0-1.7-9.4,0.8-12.3c2.5-2.9,0.5-9.6-6.5-9.6 c-2.7,0-4.9,2.1-6.2,4.3c-2.2,3.9-4.9,10.7-4.9,17.5c0,2.5,0.4,4.5,0.9,6.2c0.2,5.9-2.1,12.5-4.2,17.3c-2.6,5-7.2,12.7-12.7,12.7 c-2.2,0-4.4-1.9-4.4-4.8c0-4,1.4-10,3.4-16.6c3.2,0.3,6,0.5,7.5,0.8c2.1,0.3,2.6-7.5,2.2-9.2c-0.4-1.2-1.4-1.9-2.6-2.2 c-0.5-0.3-1.8-0.4-3.5-0.5c3.9-11.2,11.9-28.4,11.9-30.6c0-5.5-4.9-7.7-7.8-7.7c-2.2,0-4,2.1-5.2,4.9c-1,2.2-9.5,20.4-13.2,33.2 c-1.3,0.1-1.8,0-2.8,0.3c-1.6,0.3-2.1,1.4-3.3,5.2c-0.8,2.9-0.2,5.9,0.9,5.7c0.9-0.1,1.1,0,2-0.1c-0.2,1-0.4,2-0.7,3 c-1.6,7.3-2.2,14.2-2.2,19.3c0,1.5,0.1,2.9,0.4,4.2c1.6,5.6,6,9.6,12.1,9.6c7.4,0,14.8-6.4,19.4-13.2c0.2-0.1,0.3-0.3,0.4-0.5 c0.3-0.5,0.6-1,0.8-1.5c0.9-1.5,1.7-3,2.2-4.4c2.6-5.5,4.9-12.5,5.9-18.5h1c3.2,0,5.6-1.4,7.5-3.1c-2.5,7.8-5.8,17.9-5.8,26.5 c0,8.2,4,14.7,11.8,14.7c7,0,13.7-5.8,18.1-12.2c2.5,7.7,8.4,12,16.8,12c8.4,0,16.5-5.9,21.3-14.8c2.9-5.1,3.9-7.9,4.4-10.4 c3.3-0.8,6.4-2.1,9.2-3.6l-1.7,9.7c-0.1,1.6-0.2,3.1-0.2,4.5c0,8.2,5.1,14.7,12.9,14.7c6.3,0,12.7-4.7,17.3-10.3 c1.5,6,6,10.3,12.3,10.3c7.2,0,14.5-6.1,19.2-12.8c3.2,9.2,11.5,14.6,20.2,14.6c12.6,0,20.5-6.8,25.5-15c0.2-0.1,0.3-0.2,0.4-0.4 c3.6-6.2,7.5-15.5,9-24.5h1c3.2,0,5.6-1.4,7.5-3.1c-2.5,7.8-5.8,17.9-5.8,26.5c0,8.2,4,14.7,11.8,14.7c11.9,0,23.1-16.9,23.1-24.8 C487.9,278.7,485.7,276.1,483.9,276.1z M421.1,260.6c1.2,0,1.7,0.9,1.6,2.2c-0.4,6.5-9.5,14.3-14.2,14.3 C411.3,266,418.6,260.6,421.1,260.6z M311.7,284.3c-3,6.2-7.1,11-10.5,11c-3.9,0-5.2-3.5-5.2-8.6c0-5.1,1.2-10.2,3.1-14.7 c0.3,0.5,0.6,1.1,1,1.6c2.8,5.2,7.4,7.9,12.5,9C312.3,283.2,312,283.7,311.7,284.3z M315.6,271.7c-0.2,1.1-0.4,2.1-0.5,2.9 c-5.4-1.2-9.8-4.8-11.2-10.6c2.2-2.5,4.5-4,6.7-4c4.2,0,5.3,4.4,5.3,7.8C316,269.1,315.8,270.4,315.6,271.7z M366.3,271.3 c-0.7,2.8-1.3,5.6-1.8,8.3c-2.5,4.9-7.3,13.4-13,13.4c-2.2,0-4.4-1.9-4.4-4.8c0-4,1.7-11.3,3.6-17.9c3.5-0.7,14.4-0.5,16-0.4 c0,0,0,0,0,0L366.3,271.3z M206,287.8c-3.7,5-8.7,8.9-15.5,8.9c-4.9,0-9.4-1.7-10.9-6.5c7.7,0.8,26.4-11.3,27.4-27.8 c0.4-8.4-4.5-15.2-13.2-15.2c-10.1,0-23.2,10.5-27.3,28c-2.1,3.1-4.8,5.7-8,5.7c-0.5,0-1,0-1.4-0.3c1.2-4.3,1.8-9,1.8-13.6 c0-12.7-6-19.7-13.6-19.7c-2.6,0-4.9,0.8-7.1,2.2c3-10.8,5.7-19.5,7-23.1c1.7-4.9-4.9-7.7-7.8-7.7c-2.2,0-4,2.1-5.2,4.9 c-1,2.1-4.7,15.2-8.6,30.4c-0.6,1.7-1.1,3.4-1.7,5c-0.8,2.2-1.6,4.4-3,7c-1.4,2.5-3,4.2-5.6,5.5c-1.2,0.8-2.5,1.4-3.8,2 c0.1-1.2,0.1-2.3,0.1-3.8c0-14.8-8.4-22.3-17.1-22.3c-12.6,0-25.8,13.3-28,33c-2.4,5-6.7,12.9-12.9,12.9c-5.5,0-7.9-1.6-7.9-7.8 c0,0,25.9-29.4,25.9-55c0-6-2.9-11.7-7.9-11.7c-14.2,0-30.9,40.3-31.8,67.1c-3.8,7.5-15.3,15.9-15.3,15.9 c4.7-16.9,10.3-40.7,10.3-44.1c0-5.3-4.9-7.5-7.8-7.5c-2.1,0-3.9,2.1-5.2,4.9c-0.1,0.1-0.1,0.3-0.3,0.5c-1.4-4.3-4.9-8.3-10-8.3 c-12.1,0-24.5,19-24.5,40.3c0,12.9,5.2,20,12.9,20c4.4,0,8.2-2.5,11.6-6c-0.8,3.4-0.8,3.6-1.6,6.6c-10.6,6.4-21.8,10.1-21.8,23 c0,8.4,6,13.1,12.7,13.1c9,0,17.5-18.4,20-31.6c5.1-4.1,13.1-7.9,20.3-17.2c0.4,6.5,7.9,12.1,14.5,12.1c7.9,0,15.2-5.9,19.9-12.4 c2.5,7.8,8.4,12.2,16.9,12.2c8.4,0,18.7-9.1,21.3-14.8c2-4.4,3.4-7,4.3-10.4c3.5-0.9,6.8-2.3,9.7-3.9l-2.3,10.2 c-0.7,3.2-1.2,6.2-1.6,8.8c-1,6-0.9,10.3,5.8,10.3c3,0,4.9-2.2,5.6-5.1c1.8,2.9,4.7,5.1,8.4,5.1c6.1,0,12.5-4.8,17.3-12.3 c0.8,0.1,1.6,0.1,2.5,0.1c4.3,0,8.6-2.2,12.2-5.5c1.6,12.1,11.2,19.5,21.3,19.5c8.9,0,15.5-3.4,20.3-8.3c-0.8-2.1-1.3-4.8-1.3-8.1 C205.8,291.2,205.9,289.5,206,287.8z M192.6,260.6c1.2,0,1.7,0.9,1.6,2.2c-0.4,6.5-9.5,14.3-14.2,14.3 C182.7,266,190,260.6,192.6,260.6z M60.9,231.6c3,0-4.3,23.7-16.8,40.7C47.6,254.9,56.9,231.6,60.9,231.6z M-11.2,335 c-1.4,0-2.2-2.2-2.2-3.9c0-8.2,6.7-11,10.7-12.8C-4.5,327.4-8.5,335-11.2,335z M4.5,275.9c-1.8,6.9-5.5,15.5-9.6,15.5 c-2.5,0-3.8-3-3.8-6.9c0-11.8,6.9-23.9,11.9-23.9C7.1,260.6,6.6,268.2,4.5,275.9z M93.2,284.5c-3,6.1-7.1,10.8-10.4,10.8 c-3.9,0-5.2-3.5-5.2-8.6c0-5,1.2-10.1,3-14.5c0.3,0.5,0.6,0.9,0.9,1.4c2.8,5.2,7.3,7.9,12.5,9C93.5,283.8,93.2,284.5,93.2,284.5z M97.3,271.5c-0.2,1-0.4,2-0.7,3c-5.4-1.2-9.7-4.8-11.2-10.5c2.2-2.6,4.6-4.2,6.9-4.2c4.2,0,5.3,4.4,5.3,7.8 C97.6,269.1,97.6,270,97.3,271.5z M144.9,273.7c-0.8,3.8-1.4,5.9-1.4,5.9s-0.8,2.3-1.9,4.6c-2.7,5.7-6.4,9.7-9.4,9.7 c-3.6,0-3.9-5.3-2.9-11.7l1.9-7.8c2.2-7.1,5.8-14.7,10-14.7c2.6,0,4.2,3.4,4.2,7.7C145.4,269.5,145.3,271.6,144.9,273.7z"
              ></path>
            </svg>
            <p class="mt-4">
              Racontez et partagez vos voyages.
              <br />
              Inspirez-vous de ceux des autres.
            </p>
          </div>
        </div>

        <video
          ref="video"
          :src="isVisible ? '/globetrotter.mp4' : null"
          poster="/globetrotter.jpeg"
          class="shrink-0 rounded-xl shadow-2xl shadow-blue-900 mt-16 lg:mt-0 max-w-xl mx-auto w-full lg:ml-32 lg:-mr-48"
          loop
          muted
        ></video>
      </div>

      <h4 class="text-blue-900 font-bold text-center mt-16 lg:-mb-16">
        Featured (unfinished) side project
      </h4>
    </a>
  </div>
</template>

<script setup lang="ts">
import { vIntersectionObserver } from '@vueuse/components'

const video = ref<HTMLVideoElement>(null)
const isVisible = ref(false)

const onIntersectionObserver = async ([{ isIntersecting }]) => {
  if (isIntersecting) {
    // Lazy load the video once
    isVisible.value = true
    // Wait for src to be set
    await nextTick()
    video.value.play()
  } else {
    video.value.pause()
  }
}
</script>

<style lang="postcss" scoped>
.logo {
  width: 80px;
  width: 15vw;
  max-width: 80px;
  margin-bottom: 3vh;

  .rotate {
    animation: rotate 3s infinite cubic-bezier(0.5, 0, 0.5, 1);
    transform-origin: 95% 5%;
  }

  .translateX {
    animation: translateX 3s infinite -0.5s cubic-bezier(0.5, 0, 0.5, 1);
    transform-origin: top center;
  }

  .translateY {
    animation: translateY 1.5s infinite -1.25s cubic-bezier(0.5, 0, 0.5, 1);
    transform-origin: top center;
  }

  @keyframes rotate {
    0%,
    100% {
      transform: rotate(-10deg);
    }
    50% {
      transform: rotate(20deg);
    }
  }

  @keyframes translateX {
    0%,
    100% {
      transform: translateX(40%);
    }
    50% {
      transform: translateX(-20%);
    }
  }

  @keyframes translateY {
    0%,
    100% {
      transform: translateY(0) scaleY(0.95);
    }
    50% {
      transform: translateY(5%) scaleY(1);
    }
  }
}

.brand {
  display: block;
  width: 20em;
  max-width: 90%;
  margin: 0 auto 10px;
}

.clouds {
  position: absolute;
  z-index: -1;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: 0.1;
  pointer-events: none;

  @media (max-width: 480px) {
    display: none;
  }

  > div {
    position: absolute;
    left: 50%;
    animation: cloud 10s infinite linear;

    @media (min-width: 700px) {
      animation-name: cloud-wide;
    }
  }

  .cloud1 {
    width: 177px;
    top: 25%;
  }

  .cloud2 {
    width: 214px;
    top: 50%;
    animation-delay: -3s;
  }

  .cloud3 {
    width: 275px;
    top: 75%;
    animation-delay: -7s;
  }

  @keyframes cloud {
    0% {
      transform: translate(50vw, -50%);
      opacity: 0;
    }
    10%,
    90% {
      opacity: 1;
    }
    100% {
      transform: translate(-50vw, -50%);
      opacity: 0;
    }
  }

  @keyframes cloud-wide {
    0% {
      transform: translate(350px, -50%);
      opacity: 0;
    }
    10%,
    90% {
      opacity: 1;
    }
    100% {
      transform: translate(-350px, -50%);
      opacity: 0;
    }
  }
}
</style>
